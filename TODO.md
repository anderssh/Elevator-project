TODO:

1. Bug with crazy event ordering